---
// Destructure the props passed from index.astro
const { id, testimonials, headline } = Astro.props;
---

<section id={id} class="py-24 px-6 bg-[var(--bg-color)] scroll-mt-24">
  <div class="max-w-6xl mx-auto">
    <h2 class="text-3xl md:text-5xl font-bold text-center mb-16 tracking-tight text-[var(--text-primary)]">
      {headline}
    </h2>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      {/* CRITICAL CHECK: 
         Use 'testimonials' (the prop name), not 'data.testimonials' 
      */}
      {testimonials && testimonials.map((t) => (
        <div class="p-8 rounded-[var(--radius)] border border-[var(--border)] bg-[var(--bg-color)] relative">
          <p class="text-lg italic text-[var(--text-secondary)] mb-8">
            "{t.quote}"
          </p>
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 rounded-full bg-[var(--accent)] flex items-center justify-center font-bold text-[var(--bg-color)]">
                {t.author.charAt(0).toUpperCase()}
            </div>
            <div>
                <h4 class="font-bold text-[var(--text-primary)]">{t.author}</h4>
                <p class="text-sm text-[var(--text-secondary)]">{t.role}</p>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>